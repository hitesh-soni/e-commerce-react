(this["webpackJsonpxendit-e-commerce"]=this["webpackJsonpxendit-e-commerce"]||[]).push([[2],{102:function(e,t,r){},110:function(e,t,r){},129:function(e,t,r){},130:function(e,t,r){},131:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(33),c=r.n(n),o=r(32),u=r(77),s=r(15),i=r(78),d=r(79),p=r(16),l=r(4),O=r(7),b={categories:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t.type){case O.c.GET_CATEGORY:return Object(l.a)(Object(l.a)({},e),{},{categories:t.payload});default:return e}},j=r(17),f="XENDIT_E_COMMERCE",T="XENDIT_E_COMMERCE_CART",E=r(37),g=r.n(E),v={products:[],productDetails:{},address:[]},R=Object(p.a)({storage:g.a,key:T,whitelist:["products","productDetails"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t.type){case O.b.ADD_TO_CART:return Object(l.a)(Object(l.a)({},e),{},{products:[].concat(Object(j.a)(e.products),[t.payload])});case O.b.REMOVE_FROM_CART:return Object(l.a)(Object(l.a)({},e),{},{products:e.products.filter((function(e){return e.product_id!==t.payload}))});case O.b.GET_PRODUCT_DETAILS:return Object(l.a)(Object(l.a)({},e),{},{productDetails:t.payload});case O.b.GET_ADDRESS:return Object(l.a)(Object(l.a)({},e),{},{address:t.payload});case O.b.APPEND_ADDRESS:return Object(l.a)(Object(l.a)({},e),{},{address:[].concat(Object(j.a)(e.address),[t.payload])});case O.b.CLEAR_CART:return Object(l.a)(Object(l.a)({},e),{},{products:[],productDetails:{},address:[]});default:return e}})),_={products:[],isNextPage:!0},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t.type){case O.e.GET_PRODUCTS:return Object(l.a)(Object(l.a)({},e),{},{products:1===t.payload.page?t.payload.products:[].concat(Object(j.a)(e.products),Object(j.a)(t.payload.products)),isNextPage:t.payload.isNextPage});default:return e}},y={orders:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t.type){case O.d.GET_ORDER:return Object(l.a)(Object(l.a)({},e),{},{orders:t.payload});default:return e}},C={user:void 0,authToken:{refresh_token:void 0,access_token:void 0}},x=Object(p.a)({storage:g.a,key:f,whitelist:["user","authToken"]},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t.type){case O.a.LOGIN:var r=t.payload,a=r.authToken,n=r.user;return Object(l.a)(Object(l.a)({},e),{},{authToken:a,user:n});case O.a.LOGOUT:return C;case O.a.REFRESH_TOKEN:var c=t.payload.authToken;return Object(l.a)(Object(l.a)({},e),{},{authToken:c});default:return e}})),A=Object(s.combineReducers)({category:h,products:m,auth:x,order:k,cart:R}),D=[d.a],P=Object(s.createStore)(A,{},Object(i.composeWithDevTools)(s.applyMiddleware.apply(void 0,D))),S=Object(p.b)(P),G=P,N=r(21),L=r(56),w=r(42),U=r(5),I=r(19),M=r(2);var F=function(){return Object(M.jsx)(w.a,{children:Object(M.jsxs)(U.d,{children:[I.a.map((function(e){var t=Object(L.a)(e,2),r=t[0],a=t[1];return Object(M.jsx)(U.b,{path:a.path,exact:!0,render:function(){return Object(M.jsx)(N.a,{pageTitle:a.pageTitle,route:a})}},r)})),Object(M.jsx)(U.b,{component:N.b})]})})},z=r(52);r(129),r(130);var H=function(){return Object(M.jsx)(o.a,{store:G,children:Object(M.jsx)(u.a,{persistor:S,children:Object(M.jsx)(a.Suspense,{fallback:Object(M.jsx)(N.c,{}),children:Object(M.jsx)(z.a,{store:G,children:Object(M.jsx)(F,{})})})})})};c.a.render(Object(M.jsx)(H,{}),document.getElementById("root"))},19:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return c}));var a=r(0),n={loginPage:{path:"/e-commerce-react/login",component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(12),r.e(6)]).then(r.bind(null,139))})),authRoute:!0,pageTitle:"Login user"},homePage:{path:"/e-commerce-react",component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(10)]).then(r.bind(null,135))})),pageTitle:"Home - Categories"},productsPage:{path:"/e-commerce-react/category-products/:slug",getPath:function(e){return"/category-products/".concat(e)},component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(9)]).then(r.bind(null,134))})),pageTitle:"Category - Products"},cartPage:{path:"/e-commerce-react/checkout/cart",component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(7)]).then(r.bind(null,137))})),pageTitle:"Checkout - cart"},checkoutPage:{path:"/e-commerce-react/checkout/payment",component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(1),r.e(11),r.e(5)]).then(r.bind(null,136))})),secure:!0,pageTitle:"Checkout - payment"},ordersPage:{path:"/e-commerce-react/order-history",component:Object(a.lazy)((function(){return Promise.all([r.e(0),r.e(8)]).then(r.bind(null,138))})),secure:!0,pageTitle:"Checkout - payment"}},c=Object.entries(n)},21:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return d})),r.d(t,"d",(function(){return l})),r.d(t,"a",(function(){return f}));var a=r(0),n=r.n(a),c=r(2);var o=function(){return Object(c.jsx)("div",{children:"404 page not found"})},u=r(133),s=r(132),i=(r(102),Object(c.jsx)(s.a,{spin:!0}));var d=function(){return Object(c.jsx)("div",{className:"PageloaderStyles",children:Object(c.jsx)(u.a,{tip:"Loading...",indicator:i})})},p=(r(110),Object(c.jsx)(s.a,{spin:!0}));var l=function(e){return Object(c.jsx)("div",{className:"SectionLoaderStyle",style:{height:e.height+"px"},children:Object(c.jsx)(u.a,{tip:"Loading...",indicator:p})})},O=r(5),b=r(19),h=r(32),j=r(81);var f=Object(h.b)((function(e){return{authToken:e.auth.authToken}}),{})((function(e){var t=e.authToken,r=e.route,a=e.pageTitle;return!(null===t||void 0===t?void 0:t.access_token)&&(null===r||void 0===r?void 0:r.secure)?Object(c.jsx)(O.a,{to:b.b.loginPage.path}):(null===t||void 0===t?void 0:t.access_token)&&(null===r||void 0===r?void 0:r.authRoute)?Object(c.jsx)(O.a,{to:b.b.homePage.path}):Object(c.jsxs)(n.a.Fragment,{children:[Object(c.jsx)(j.a,{children:Object(c.jsxs)("title",{children:["Xendit - ",a]})}),Object(c.jsx)(r.component,{})]})}))},41:function(e,t,r){"use strict";t.a={LOGIN_USER:"api/v1/auth/login",REFRESH_TOKEN:"api/v1/auth/token",GET_CATEGORIES:"api/v1/categories",GET_PRODUCTS:"api/v1/products",GET_CART_PRODUCTS:"api/v1/cart/products",MANAGE_ADDRESS:"api/v1/cart/address",CREATE_ORDER:"api/v1/order/create",LIST_ORDER:"api/v1/order/list"}},52:function(e,t,r){"use strict";r.d(t,"b",(function(){return p}));var a=r(40),n=r.n(a),c=r(53),o=r(0),u=r(7),s=r(39),i=r.n(s),d=r(41),p=i.a.create({baseURL:"",timeout:9e6});t.a=function(e){var t=e.store,r=e.children;return Object(o.useEffect)((function(){var e=function(e){return p.interceptors.request.use((function(t){var r=e.getState().auth.authToken.access_token;return r&&(t.headers.Authorization="Bearer ".concat(r)),t}),(function(e){return Promise.reject(e)}))}(t),r=function(e){return p.interceptors.response.use((function(e){return e}),function(){var t=Object(c.a)(n.a.mark((function t(r){var a,c,o;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.response){t.next=9;break}if((a=r.response.config).url!==d.a.REFRESH_TOKEN){t.next=5;break}return e.dispatch({type:u.a.LOGOUT}),t.abrupt("return",Promise.reject(r));case 5:if(401!==r.response.status||a._retry){t.next=9;break}return a._retry=!0,c=e.getState(),o=c.auth.authToken.refresh_token,t.abrupt("return",p.post(d.a.REFRESH_TOKEN,{refresh_token:o}).then((function(t){if(200===t.status)return e.dispatch({type:u.a.REFRESH_TOKEN,payload:{authToken:t.data.body}}),i.a.defaults.headers.common.Authorization="Bearer "+t.data.data.access_token,i()(a)})));case 9:return t.abrupt("return",Promise.reject(r));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}(t);return function(){p.interceptors.request.eject(e),p.interceptors.response.eject(r)}}),[]),r}},7:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"e",(function(){return c})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return u}));var a={LOGIN:"[Auth] Login Action",LOGOUT:"[Auth] Logout Action",REFRESH_TOKEN:"[Auth] Refresh token"},n={GET_CATEGORY:"[Category] Get category"},c={GET_PRODUCTS:"[Products] Get products"},o={ADD_TO_CART:"[Cart] Add to cart",REMOVE_FROM_CART:"[Cart] Remove from cart",GET_PRODUCT_DETAILS:"[Cart] Get product details",GET_ADDRESS:"[Cart] Get address",APPEND_ADDRESS:"[Cart] Append address",CLEAR_CART:"[Cart] Clear cart"},u={GET_ORDER:"[Order] Get orders"}}},[[131,3,4]]]);